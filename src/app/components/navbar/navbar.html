<nav class="navbar" [class.scrolled]="isScrolled">
  
  <div class="navbar-brand" routerLink="/" style="cursor: pointer;">
    <img src="images/logo.webp" alt="Logo" class="logo" />
    <span class="brand-name">MilSa</span>
  </div>

  <div class="navbar-links desktop-only">
    <a routerLink="/" class="nav-link" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}">
      <span class="icon">ğŸ </span> Accueil
    </a>
    <a routerLink="/boutique" class="nav-link" routerLinkActive="active-link">
      <span class="icon">ğŸ›ï¸</span> Boutique
    </a>
    <a (click)="scrollToSection('apropos')" class="nav-link" style="cursor: pointer;">
      <span class="icon">âšœï¸</span> Ã€ propos
    </a>
    <a (click)="scrollToSection('contact')" class="nav-link" style="cursor: pointer;">
      <span class="icon">âœ‰ï¸</span> Contact
    </a>
  </div>

  <div class="navbar-extras desktop-only">
    
    <div class="navbar-search">
      <div class="search-input-wrapper">
        <input type="text" 
               placeholder="Rechercher..." 
               [(ngModel)]="searchTerm"
               (input)="onSearchInput()"
               (keyup.enter)="onSearchSubmit()"
               autocomplete="off" />
        
        <button class="search-btn" (click)="onSearchSubmit()">ğŸ”</button>

        <ul class="autocomplete-list" *ngIf="showSuggestions && suggestions.length > 0">
          <li *ngFor="let s of suggestions" (click)="selectSuggestion(s)">
            <img [src]="s.image" alt="ico" class="mini-img">
            <div class="info">
              <span class="name">{{ s.nom }}</span>
              <span class="code">{{ s.code }}</span>
            </div>
          </li>
        </ul>
      </div>
    </div>

    <button class="cart-btn" routerLink="/panier">
      ğŸ›’ <span class="badge">{{ cartItemCount }}</span>
    </button>
  </div>

  <button class="navbar-toggle" (click)="toggleMenu()" [class.active]="isMenuOpen">
    <span class="bar"></span>
    <span class="bar"></span>
    <span class="bar"></span>
  </button>

  <div class="navbar-menu" [class.open]="isMenuOpen">
    <div class="mobile-content">
      
      <a routerLink="/" (click)="toggleMenu()" class="nav-link mobile-link">
        <span class="icon">ğŸ </span> Accueil
      </a>
      <a routerLink="/boutique" (click)="toggleMenu()" class="nav-link mobile-link">
        <span class="icon">ğŸ›ï¸</span> Boutique
      </a>
      <a (click)="scrollToSection('apropos'); toggleMenu()" class="nav-link mobile-link">
        <span class="icon">âšœï¸</span> Ã€ propos
      </a>
      <a (click)="scrollToSection('contact'); toggleMenu()" class="nav-link mobile-link">
        <span class="icon">âœ‰ï¸</span> Contact
      </a>

      <div class="mobile-search-wrapper">
        <input type="text" 
               placeholder="Rechercher un parfum..." 
               [(ngModel)]="searchTerm"
               (input)="onSearchInput()"
               (keyup.enter)="onSearchSubmit(); toggleMenu()" />
        
        <button class="search-btn" (click)="onSearchSubmit(); toggleMenu()">ğŸ”</button>

        <ul class="autocomplete-list mobile-list" *ngIf="showSuggestions && suggestions.length > 0">
          <li *ngFor="let s of suggestions" (click)="selectSuggestion(s); toggleMenu()">
            <img [src]="s.image" alt="ico" class="mini-img">
            <div class="info">
              <span class="name">{{ s.nom }}</span>
              <span class="code">{{ s.code }}</span>
            </div>
          </li>
        </ul>
      </div>

      <button class="cart-btn mobile-cart" routerLink="/panier" (click)="toggleMenu()">
        Mon Panier ({{ cartItemCount }}) ğŸ›’
      </button>
    </div>
  </div>

</nav>